# =========================
# Top10 Engine Settings
# =========================

encoding: "utf-8"
timezone: "Asia/Shanghai"

top_n: 10

# -------------------------
# Data repo (warehouse)
# -------------------------
data_repo:
  owner: "njedu2023-prog"
  name: "a-share-top3-data"
  ref: "main"
  checkout_dir: "_warehouse"

# 交易日目录模板（关键修复点）
# 你的数据仓库结构是：data/raw/2026/20260129/...
trade_date_dirs:
  - "_warehouse/data/raw/{YYYY}/{YYYYMMDD}"
  - "_warehouse/data/raw/{YYYYMMDD}"
  - "_warehouse/data/{YYYYMMDD}"
  - "_warehouse/{YYYYMMDD}"

# 涨停池候选快照文件（引擎会按顺序找到第一个存在的）
snapshot_candidates:
  - "limit_break_d.csv"
  - "limit_list_d.csv"
  - "stk_limit.csv"

# -------------------------
# Scoring
# -------------------------
# 权重：如果字段不存在，会自动跳过该项，不会报错
weights:
  # 越大越好
  first_time: 1.0
  open_times: 0.8
  close_times: 1.2
  # 越小越好（会按负向处理）
  turnover_rate: -0.6
  pct_chg: 0.4
  amount: 0.3

# 概率映射（可选；用于把 score 映射到 0-1）
prob_map:
  method: "sigmoid"
  k: 0.18

# -------------------------
# Output
# -------------------------
output:
  dir: "outputs"
  files:
    predict_json: "outputs/predict/predict_{YYYYMMDD}.json"
    predict_md: "outputs/predict/predict_{YYYYMMDD}.md"
  history_append_jsonl: "outputs/history/history.jsonl"
