# ============================================================
# A股涨停预测系统 - Top10 Engine 最终配置（可直接跑通）
# Repo: a-share-top10-engine
# Data Repo: a-share-top3-data
# ============================================================

version: "A-Share-Top10-Engine-V1"

runtime:
  timezone: "Asia/Shanghai"
  encoding: "utf-8"

# ============================================================
# 项目基本参数
# ============================================================

project:
  universe: "A-share"
  target: "limit-up_continuation"
  top_n: 10

# ============================================================
# 数据仓库配置（纯数据仓库）
# ============================================================

data_repo:
  owner: "njedu2023-prog"
  name: "a-share-top3-data"
  ref: "main"
  checkout_dir: "_warehouse"

# ============================================================
# 数据目录结构（✅核心）
# 真实结构：
# _warehouse/data/raw/2026/20260130/stk_limit.csv
# ============================================================

data_layout:

  # ✅交易日目录候选路径（按顺序匹配）
  trade_date_dirs:

    # ✅唯一正确路径
    - "_warehouse/data/raw/2026/{trade_date}"

    # ✅未来兼容备用
    - "_warehouse/data/raw/{trade_date}"
    - "_warehouse/data/{trade_date}"
    - "_warehouse/data/snapshots/{trade_date}"
    - "_warehouse/data/daily/{trade_date}"

  # ✅识别规则：目录名必须含 YYYYMMDD
  trade_date_pattern: "YYYYMMDD"

  # ==========================================================
  # 快照文件候选名（✅必须包含 stk_limit.csv）
  # ==========================================================

  snapshot_candidates:

    # ✅涨停池文件（你的真实文件）
    limit_up_pool:
      - "stk_limit.csv"
      - "limit_up_pool.csv"
      - "zt_pool.csv"
      - "limit_up.csv"

    # 预留：龙虎榜
    dragon_tiger:
      - "dragon_tiger.csv"
      - "lhb.csv"

    # 预留：行情 OHLC
    open_high_close:
      - "ohlc.csv"
      - "daily_ohlc.csv"
      - "quotes.csv"

    # 预留：热门概念
    concepts_hot:
      - "concept_hot.csv"
      - "hot_concepts.csv"
      - "themes_hot.csv"

    # 预留：热门行业板块
    sectors_hot:
      - "sector_hot.csv"
      - "hot_sectors.csv"
      - "industry_hot.csv"

# ============================================================
# 输出配置（✅必须包含 output.files）
# ============================================================

output:

  out_dir: "output"

  files:
    predict_json: "top10_result.json"
    predict_md: "top10_report.md"
    history_file: "history.jsonl"

# ============================================================
# 引擎运行模式（推荐）
# ============================================================

engine:

  # ✅如果今天没数据，则自动 fallback 最新交易日
  allow_fallback_latest: true

  # ✅缺少关键文件直接报错（安全）
  strict_snapshot_check: true

  # ✅TopN 补全输出
  enforce_top_n: true
